trigger:
- main

pool:
  vmImage: 'ubuntu-latest'

steps:
- script: |
    echo Installing dependencies...
    npm install
    echo Packaging VSCode extension...
    npm install -g @vscode/vsce
    vsce package
    vsce publish
    echo Running tests...
    npm test
  displayName: 'Build and Test'
